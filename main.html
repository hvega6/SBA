<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Main Page</title>
    <link rel="stylesheet" href="style/main.css" />
    <style>
      #gif-container {
        width: 100%;
        height: 0;
        padding-bottom: 100%;
        position: relative;
      }
      #gif-container img,
      #gif-container iframe {
        position: absolute;
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
      }
    </style>
  </head>
  <body>
    <div id="transition-container">
      <div id="gif-container">
        <img
          id="gif1"
          src="https://i.giphy.com/media/v1.Y2lkPTc5MGI3NjExZDlheHJqZmVhdXI0anNldXp0em5wdmE0dXZ6NGlpNW1vbDFkYm55dyZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/3o7WIAK9ro6LbXzqQ8/giphy-downsized-large.gif"
          frameborder="0"
          class="giphy-embed"
          allowfullscreen
        >
        <img
          id="gif2"
          src="https://i.giphy.com/media/v1.Y2lkPTc5MGI3NjExMzh5N2k4anVlM2ZvNTZmcno5eWc3YmlxNHNtbHc3ZWhmZndvemY0ZiZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/ylyUQl358jhxMXjS1i/giphy.gif"
          frameBorder="0"
          class="giphy-embed"
          style="display: none"
          alt="Second GIF"
          allowFullScreen
        />
        <img
          id="gif3"
          src="https://i.giphy.com/media/v1.Y2lkPTc5MGI3NjExbmprb3h2Y2h0dmZ6bHZxdXMzNTc5Zm00eDZkbnllOXA3bDVobWIxZyZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/2g8EYDN0VWFMY/giphy.gif"
          frameBorder="0"
          class="giphy-embed"
          style="display: none"
          alt="Third GIF"
          allowFullScreen
        />
        <img
          id="gif4"
          src="https://i.giphy.com/media/v1.Y2lkPTc5MGI3NjExZWkybndnM3RqYXduZmt5c2ExenZuNmptMm1vMjFhYW1xbXF3Nm1keSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/LR5ZBwZHv02lmpVoEU/giphy-downsized-large.gif"
          frameBorder="0"
          class="giphy-embed"
          style="display: none"
          alt="Fourth GIF"
          allowFullScreen
        />
        <img
          id="gif5"
          src="https://i.giphy.com/media/v1.Y2lkPTc5MGI3NjExeG5xc3lueGEyNWZmZHB6ZGFhZnhiZDF1emZjd3hrNXh3OGU1amk3ZSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/SVgCHJ2n35EA6XFPpO/giphy-downsized-large.gif"
          frameBorder="0"
          class="giphy-embed"
          style="display: none"
          alt="Fifth GIF"
          allowFullScreen
        />

        <img
          id="final-image"
          src="/assets/final-image.jpg"
          style="display: none"
          alt="Final Image"
        />
      </div>
      
      <!-- Background music -->
      <audio id="background-music" loop>
        <source src="/assets/ambient-celestial-dreamy-meditation-drone-healing-yoga-music-20846.mp3" type="audio/mp3">
        Your browser does not support the audio element.
    </audio>
      <script src="/scripts/audioControl.js"></script>

      <!-- UI Sound Effect -->
      <audio id="ui-sound" preload="auto">
        <source src="/assets/UI Sounds_ Futuristic sound effects example.mp3" type="audio/mp3"> <!-- Replace with your sound file -->
        Your browser does not support the audio element.
      </audio>
    </div>

    <script>
      // Audio playback function
      function playAudio() {
        let audio = document.getElementById("background-audio");
        audio.play().catch(function (error) {
          console.log("Audio playback failed:", error);
        });
      }

      // Try to play audio on page load
      window.addEventListener("load", playAudio);

      // Also try to play audio on user interaction

      document.body.addEventListener("click", playAudio);

      function switchToSecondGif() {
        document.getElementById("gif1").style.display = "none";
        document.getElementById("gif2").style.display = "block";
      }

      function switchToThirdGif() {
        document.getElementById("gif2").style.display = "none";
        document.getElementById("gif3").style.display = "block";
      }

      function switchToFourthGif() {
        document.getElementById("gif3").style.display = "none";
        document.getElementById("gif4").style.display = "block";
      }

      function switchToFifthGif() {
        document.getElementById("gif4").style.display = "none";
        document.getElementById("gif5").style.display = "block";
      }

      function switchToFinalImage() {
        document.getElementById("gif5").style.display = "none";
        document.getElementById("final-image").style.display = "block";
      }

      function switchToMenu(){
        window.location.href = "/menu.html"
      }
      // Switch to second GIF after 5 seconds
      setTimeout(switchToSecondGif, 4000);

      setTimeout(switchToThirdGif, 9000);

      setTimeout(switchToFourthGif, 11000);

      setTimeout(switchToFifthGif, 13000);

      // Switch to menu
      setTimeout(switchToMenu, 30000);

      // Play the UI sound effect when the page loads
      window.onload = function() {
        const uiSound = document.getElementById('ui-sound');
        const backgroundMusic = document.getElementById('background-music');

        // Play the UI sound
        uiSound.currentTime = 0; // Reset to the start
        uiSound.play();

        // Play the background music
        backgroundMusic.play();
      };
    </script>
  </body>
</html>
